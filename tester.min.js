var jobs={"나이트":"Pld","전사":"War","암흑기사":"Drk","몽크":"Mnk","용기사":"Drg","음유시인":"Brd","닌자":"Nin","소환사":"Smn","흑마도사":"Blm","기공사":"Mch","백마도사":"Whm","학자":"Sch","점성술사":"Ast","리미트 브레이크":"","초코보 (유저)":""},duration=Math.floor(300*Math.random()+100),rd=0,rh=0,combatants={};for(var name in jobs){var combatant={};combatants[name]=combatant,combatant.name=name,combatant.Job=jobs[name],rd+=combatant.damage=Math.floor(1e6*Math.random()+100),combatant.tohit=Math.floor(2e3*Math.random()+1),combatant.swings=Math.floor(2e3*Math.random()+1),combatant.misses=Math.floor(1e3*Math.random()+1),combatant.hitfailed=Math.floor(1e3*Math.random()+1),combatant.crithit=Math.floor(Math.random()*combatant.swings+1),combatant["crithit%"]=Math.round(combatant.crithit/combatant.swings*100),combatant.damagetaken=Math.floor(1e3*Math.random()+1),combatant.healstaken=Math.floor(1e3*Math.random()+1),combatant.ParryPct=Math.floor(100*Math.random()+1)+"%",combatant.BlockPct=Math.floor(100*Math.random()+1)+"%",rh+=combatant.healed=Math.floor(1e6*Math.random()+100),combatant.OverHealPct=Math.floor(100*Math.random()+1)+"%",combatant.heals=Math.floor(100*Math.random()+100),combatant["critheal%"]=Math.floor(100*Math.random()+1)+"%",combatant.powerdrain=Math.floor(1e6*Math.random()+100),combatant.powerheal=Math.floor(1e6*Math.random()+100),combatant.cures=Math.floor(100*Math.random()),combatant.deaths=Math.floor(5*Math.random())}for(var name in combatants){var combatant=combatants[name];combatant.encdps=Math.round(combatant.damage/duration*10)/10,combatant["damage%"]=Math.round(combatant.damage/rd*100)+"%",combatant["healed%"]=Math.round(combatant.healed/rh*100)+"%"}for(var sortedCombatants={},sortedCombatantKey=Object.keys(combatants).sort(function(a,b){return combatants[b].encdps-combatants[a].encdps}),i=0;i<sortedCombatantKey.length;++i)sortedCombatants[sortedCombatantKey[i]]=combatants[sortedCombatantKey[i]];var encounter={};encounter.duration=(duration<600?"0":"")+Math.floor(duration/60)+":"+(duration%60<10?"0":"")+Math.floor(duration%60),encounter.title="Test Combatant",encounter.dps=Math.round(rd/duration*10)/10;var data={};data.isActive=!0,data.Encounter=encounter,data.Combatant=sortedCombatants,document.dispatchEvent(new CustomEvent("onOverlayDataUpdate",{detail:data}));
